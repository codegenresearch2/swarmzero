import os\"nimport pytest\"nfrom unittest.mock import patch, MagicMock\"nfrom io import BytesIO\"nfrom fastapi import UploadFile\"nfrom swarmzero.chat import ChatManager\"n\"n@pytest.fixture\"ndef agent():\"n    with (\"n        patch('llama_index.core.VectorStoreIndex.from_documents'),\"n        patch('llama_index.core.objects.ObjectIndex.from_objects'),\"n        patch('swarmzero.agent.setup_routes'),\"n        patch('uvicorn.Server.serve', new_callable=MagicMock),\"n        patch('os.environ', {'ANTHROPIC_API_KEY': 'anthropic_api_key'}),\"n        patch('os.environ', {'MISTRAL_API_KEY': 'mistral_api_key'}),\"n    ):\"n        test_agent = Agent(\"n            name='TestAgent',\"n            functions=[lambda x: x],\"n            config_path='./swarmzero_config_test.toml',\"n            host='0.0.0.0',\"n            port=8000,\"n            instruction='Test instruction',\"n            role='leader',\"n            retrieve=True,\"n            required_exts=['.txt'],\"n            retrieval_tool='basic',\"n            load_index_file=False,\"n        )\"n    return test_agent\"n"}